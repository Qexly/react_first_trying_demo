{"version":3,"sources":["Components/Profile/MyPosts/Post/imgs/ava.png","Redux/dialogsReducer.js","Components/common/Paginator/Paginator.module.css","Components/Users/Users.module.css","API/api.js","Components/Navbar/Navbar.module.css","Components/Navbar/Navbar.jsx","Redux/usersReducer.js","Components/common/Paginator/Paginator.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","Redux/users-selectors.js","Components/Users/UsersContainer.jsx","Components/Header/imgs/logo.png","Components/Header/Header.jsx","Redux/auth-reducer.js","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","Redux/appReducer.js","App.js","Redux/redux-store.js","index.js","Components/common/FormsControls/FormsControls.module.css","assets/images/35.svg","Components/common/preloader/Preloader.jsx","Utils/Validators.js","Components/Header/Header.module.css","HOCs/withAuthRedirect.jsx","Components/common/FormsControls/FormsControls.jsx","Redux/profileReducer.js"],"names":["initialState","dialogsData","id","name","messagesData","message","sendMessageCreator","type","dialogsReducer","state","action","newMessageBody","module","exports","instance","Axios","create","withCredentials","baseURL","headers","UsersApiDal","getUsers","pageSize","currentPage","get","then","responce","data","unfollow","userId","delete","follow","post","profileApiDal","getProfile","getStatus","updateStatus","status","put","authApiDal","me","login","email","password","remeberMe","logout","Navbar","className","s","item","to","activeClassName","active","users","totalUsersCount","isFetching","isFollowinProg","onFlipTheFollowToggle","onSetPage","onToggleFetching","onFollowButtonInProg","isFollowOnProg","usersReducer","map","followed","total","filter","Paginator","props","portionsSize","pagesCount","Math","ceil","usersCount","pages","i","push","portions","useState","currentPortion","setPortion","right","currentPages","onClick","e","prevPortion","selectedPage","onPageChangeHandler","User","followTogglerThunkCreator","src","photos","small","userImg","photo","disabled","includes","Users","superGetUsersSelector","createSelector","usersPage","getPageSize","getCurrentPage","getUsersCount","getIsFetching","getIsFollowinProg","UsersAPI","getUsersThunkCreator","currentTarget","innerText","this","Preloader","React","Component","compose","withAuthRedirect","connect","toFollow","dispatch","resultCode","items","totalCount","Header","logo","alt","loginBlock","isAuth","onSetAuthUserData","getAuthUserData","authReducer","HeaderContainerAPI","HeaderContainerContext","auth","maxLength30","maxLengthCreator","Login","formData","rememberMe","LoginReduxForm","onSubmit","onSubmitHandler","bind","reduxForm","form","handleSubmit","Field","placeholder","component","Input","validate","required","error","stopSubmit","_error","messages","initialized","appReducer","DialogsContainer","lazy","ProfileContainer","App","initialAppTC","HeaderContainer","path","render","Suspense","fallback","UsersContainer","app","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","appStore","StrictMode","document","getElementById","preloader","value","maxLength","length","mapStateToProps","RedirectComponent","Textarea","input","meta","rest","isError","touched","postData","likesCount","profile","postText","addPostActionCreator","setUserStatus","getUserProfile","getUserStatus","updateUserStatus"],"mappings":"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","file":"static/js/main.c117421c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ava.8a99c228.png\";","\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: 'Dimitry' },\r\n        { id: 2, name: 'Andrew' },\r\n        { id: 3, name: 'Maxim' },\r\n        { id: 4, name: 'Peter' },\r\n        { id: 5, name: 'Vitalya' },\r\n        { id: 6, name: 'Vladislav' }\r\n    ],\r\n    messagesData: [\r\n        { id: 1, message: 'Hi, how are u?' },\r\n        { id: 2, message: 'Wazzup! All ok!' },\r\n        { id: 3, message: 'Nice!' },\r\n    ],\r\n}\r\n\r\nexport function dialogsReducer(state = initialState, action) {\r\n\r\n    if (action.type == 'SEND-MEASSAGE') {\r\n        return {\r\n            ...state,\r\n            messagesData: [...state.messagesData, {id: 0, message: action.message}],\r\n            newMessageBody: ''\r\n        }\r\n    };\r\n\r\n    return state;\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\nexport function sendMessageCreator(message) {\r\n    return {\r\n        type: 'SEND-MEASSAGE',\r\n        message,\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__26a7U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"Users_photo__34R71\",\"selectedPage\":\"Users_selectedPage__2BUTW\"};","import Axios from \"axios\";\r\n\r\nconst instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY':'497bcbb4-0b88-476a-b19e-e5f96',\r\n    }\r\n})\r\n\r\nexport const UsersApiDal = {\r\n    getUsers(pageSize, currentPage) {\r\n        return (\r\n            instance.get(`users?count=${pageSize}&page=${currentPage}`)\r\n                .then((responce) => responce.data)\r\n        )\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n}\r\n\r\nexport const profileApiDal = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    }\r\n}\r\n\r\nexport const authApiDal = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, remeberMe = false) {\r\n        return instance.post(`/auth/login`, {email, password, remeberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`/auth/login`);\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Navbar_item__1mwnN\",\"active\":\"Navbar_active__K_OfL\"};","import { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\n\r\nfunction Navbar (){\r\n    return (\r\n        <div>\r\n            <nav>\r\n                <div className={s.item}>\r\n                    <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='#'>News</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='#'>Music</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='#'>Settings</NavLink>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;\r\n","import { UsersApiDal } from './../API/api.js';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    totalUsersCount: 100,\r\n    isFetching: true,\r\n    isFollowinProg: [],\r\n}\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case 'TOGGLE_FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map((item) => {\r\n                    if (action.userId == item.id) {\r\n                        item.followed = !item.followed; //По правилам нужно еще и копию пользователя сделать\r\n                    }\r\n                    return item\r\n                }),\r\n            };\r\n        case ('SET_USERS') :\r\n            return {...state, users: [/*...state.users*/, ...action.users]};\r\n        case ('SET_PAGE') :\r\n            return {...state, currentPage: action.currentPage};\r\n        case ('SET_TOTAL') :\r\n            return {...state, totalUsersCount: action.total};\r\n        case ('TOGGLE_FETCHING') :\r\n            return {...state, isFetching: action.isFetching};\r\n        case ('TOGGLE_FOLLOW_PROGRESS') : \r\n            return {\r\n                ...state, \r\n                isFollowinProg: action.isFollowOnProg ? [...state.isFollowinProg, action.userId] :\r\n                    state.isFollowinProg.filter((item) => item != action.userId),\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const onFlipTheFollowToggle = (userId) => ({type: 'TOGGLE_FOLLOW', userId}); //toggleFollowAC\r\nexport const onSetUsers = (users) => ({type: 'SET_USERS', users}); //setUsersAC\r\nexport const onSetPage = (currentPage) => ({type: 'SET_PAGE', currentPage}); //setPageAC\r\nexport const onSetTotalCount = (total) => ({type: 'SET_TOTAL', total}); //setTotalCountAC\r\nexport const onToggleFetching = (isFetching) => ({type: 'TOGGLE_FETCHING', isFetching}); //toggleFetchingAC\r\nexport const onFollowButtonInProg = (isFollowOnProg, userId) => ({type: 'TOGGLE_FOLLOW_PROGRESS', isFollowOnProg, userId});\r\n\r\nexport const getUsersThunkCreator = (pageSize, currentPage) => {\r\n    return (dispatch) => {\r\n        dispatch(onToggleFetching(true)); \r\n        dispatch(onSetPage(currentPage));\r\n        UsersApiDal.getUsers(pageSize, currentPage)\r\n            .then(data => {\r\n                dispatch(onSetUsers(data.items));\r\n                dispatch(onSetTotalCount(data.totalCount));\r\n                dispatch(onToggleFetching(false));\r\n            });\r\n    }\r\n}\r\n\r\nexport const followTogglerThunkCreator = (userId, toFollow) => {\r\n    return (dispatch) => {\r\n        dispatch(onFollowButtonInProg(true, userId));\r\n        if (toFollow) {\r\n            UsersApiDal.follow(userId)\r\n            .then((responce) => {\r\n                if (responce.data.resultCode === 0) dispatch(onFlipTheFollowToggle(userId));\r\n                dispatch(onFollowButtonInProg(false, userId));\r\n            })\r\n        } else {\r\n            UsersApiDal.unfollow(userId)\r\n            .then((responce) => {\r\n                if (responce.data.resultCode === 0) dispatch(onFlipTheFollowToggle(userId));\r\n                dispatch(onFollowButtonInProg(false, userId));\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n","import {useState} from 'react';\r\nimport s from './Paginator.module.css';\r\n\r\nfunction Paginator(props) {\r\n\r\n    let {portionsSize} = props;\r\n\r\n    let pagesCount = Math.ceil(props.usersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 0; i < pagesCount; i++) {\r\n        pages.push(1 + i);\r\n    }\r\n\r\n    let portions = Math.ceil(pagesCount / portionsSize);\r\n    let [currentPortion, setPortion] = useState(1);\r\n    let right = portionsSize * currentPortion;\r\n    let left = right - (portionsSize - 1);\r\n    let currentPages = [];\r\n    for (let i = left; i < right + 1; i++) {\r\n        if (pages[i-1]) currentPages.push(pages[i-1]);\r\n    }\r\n\r\n    const nextPortionButtonHandler = (e) => {\r\n        if (currentPortion + 1 <= portions) setPortion((prevPortion) => ++prevPortion);\r\n    }\r\n\r\n    const prevPortionButtonHandler = (e) => {\r\n        if (currentPortion - 1 >= 1) setPortion((prevPortion) => --prevPortion);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            \t<button onClick={prevPortionButtonHandler}>&lt;</button>\r\n            {\r\n                currentPages.map((item) => {\r\n                    return <span key={item}\r\n                        className={props.currentPage == item ? s.selectedPage : null}\r\n                        onClick={props.onPageChangeHandler}>{item + ' '}</span>\r\n                })\r\n            }\r\n                <button onClick={nextPortionButtonHandler}>&gt;</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userImg from './../Profile/MyPosts/Post/imgs/ava.png'\r\n\r\nconst User = (props) => {\r\n    let { isFollowinProg, followTogglerThunkCreator, item } = props;\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + item.id}>\r\n                        <img src={item.photos.small ? item.photos.small : userImg} className={s.photo} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        item.followed ? <button disabled={props.isFollowinProg.includes(item.id)} onClick={() => {\r\n                            props.followTogglerThunkCreator(item.id, false)\r\n                        }}>Unfollow</button> :\r\n                            <button disabled={props.isFollowinProg.includes(item.id)} onClick={() => {\r\n                                props.followTogglerThunkCreator(item.id, true)\r\n                            }}>Follow</button>\r\n                    }\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>\r\n                        {item.name}\r\n                    </div>\r\n                    <div>\r\n                        {item.status}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <div>\r\n                        {'item.location.country'}\r\n                    </div>\r\n                    <div>\r\n                        {'item.location.city'}\r\n                    </div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from './../common/Paginator/Paginator.jsx';\r\nimport User from './User.jsx';\r\n\r\nfunction Users(props) {\r\n\r\n    let {usersCount, pageSize, currentPage, onPageChangeHandler, isFollowinProg, followTogglerThunkCreator} = props;\r\n\r\n    return (\r\n        <div>\r\n            \r\n            <Paginator {...{usersCount, pageSize, currentPage, onPageChangeHandler}} portionsSize={10} />\r\n            {\r\n                props.users.map((item) => <User {...{isFollowinProg, followTogglerThunkCreator, item}} />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const superGetUsersSelector = createSelector(getUsers, (users) =>{\r\n    return users.filter(item => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getIsFollowinProg = (state) => {\r\n    return state.usersPage.isFollowinProg;\r\n}\r\n\r\n\r\n\r\n","import React, { Fragment} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {followTogglerThunkCreator, onSetPage, getUsersThunkCreator} from '../../Redux/usersReducer.js';\r\nimport Users from './Users';\r\nimport Preloader from '../common/preloader/Preloader.jsx';\r\nimport { withAuthRedirect } from './../../HOCs/withAuthRedirect.jsx';\r\nimport { compose } from 'redux'; \r\nimport { superGetUsersSelector, getPageSize, getCurrentPage, getUsersCount, getIsFetching, getIsFollowinProg } from './../../Redux/users-selectors.js';\r\n\r\nclass UsersAPI extends React.Component { //делает запросы\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.pageSize, this.props.currentPage);\r\n    }\r\n\r\n    onPageChangeHandler = (e) => { \r\n        this.props.getUsersThunkCreator(this.props.pageSize, +e.currentTarget.innerText) \r\n    }\r\n\r\n    render() {\r\n       return (\r\n           <Fragment>\r\n               {this.props.isFetching ? <Preloader /> : null}\r\n                <Users \r\n                    usersCount={this.props.usersCount} \r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    users={this.props.users}\r\n                    isFollowinProg={this.props.isFollowinProg}\r\n                    onPageChangeHandler={this.onPageChangeHandler} \r\n                    followTogglerThunkCreator={this.props.followTogglerThunkCreator}\r\n                />\r\n           </Fragment>\r\n            \r\n       )\r\n       \r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: superGetUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        usersCount: getUsersCount(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowinProg: getIsFollowinProg(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        followTogglerThunkCreator, \r\n        onSetPage, \r\n        getUsersThunkCreator,\r\n    })  \r\n)(UsersAPI)\r\n/*\r\nconst UsersContainer = connect(mapStateToProps, {\r\n    followTogglerThunkCreator, \r\n    onSetPage, \r\n    getUsersThunkCreator,\r\n})(UsersAPI);\r\n\r\nexport default UsersContainer;\r\n*/","export default __webpack_public_path__ + \"static/media/logo.a7a52973.png\";","import logo from './imgs/logo.png';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header>\r\n            <img src={logo} alt='d' className={s.logo} />\r\n            <div className={s.loginBlock}> \r\n            {props.isAuth ?\r\n            <div>{props.login} <button onClick={props.logout}>Log out</button></div> :\r\n                <NavLink to='/login'> \r\n                    Login\r\n                </NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authApiDal } from './../API/api.js';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: null,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_USER_DATA':\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const onSetAuthUserData = ({id, email, login, isAuth}) => { \r\n    return {\r\n        type: 'SET_USER_DATA',\r\n        data: {\r\n            id, \r\n            email, \r\n            login,\r\n            isAuth,\r\n        },\r\n    }\r\n}\r\n//thunk creators\r\nexport const getAuthUserData = () => {\r\n    return (dispatch) => {\r\n        return authApiDal.me().then(\r\n            (responce) => {\r\n                if (responce.data.resultCode === 0) {\r\n                    dispatch(onSetAuthUserData({...responce.data.data, isAuth: true}));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const login = (email, password, remeberMe) => {\r\n    return (dispatch) => {\r\n        authApiDal.login(email, password, remeberMe).then(\r\n            (responce) => {\r\n                if (responce.data.resultCode === 0) {\r\n                    dispatch(getAuthUserData());\r\n                } else {\r\n                    let action = stopSubmit('login', {_error: responce.data.messages});\r\n                    dispatch(action);\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return (dispatch) => {\r\n        authApiDal.logout().then(\r\n            (responce) => {\r\n                if (responce.data.resultCode === 0) {\r\n                    dispatch(onSetAuthUserData({id: null, email: null, login: null, isAuth: false}));\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header.jsx\";\r\nimport {connect} from 'react-redux';\r\nimport {getAuthUserData, logout} from './../../Redux/auth-reducer.js'\r\n\r\nclass HeaderContainerAPI extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        //this.props.getAuthUserData();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\nconst HeaderContainerContext = connect(mapStateToProps, {getAuthUserData, logout})(HeaderContainerAPI);\r\n\r\nexport default HeaderContainerContext;","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { Input } from './../common/FormsControls/FormsControls.jsx';\r\nimport { required, maxLengthCreator } from './../../Utils/Validators.js';\r\nimport { login } from './../../Redux/auth-reducer.js';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet maxLength30 = maxLengthCreator(30);\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    onSubmitHandler(formData) {\r\n        this.props.login(formData.email, formData.password, formData.rememberMe);\r\n    }   \r\n\r\n    render() {\r\n        \r\n        if (this.props.isAuth) return <Redirect to={\"/profile\"} />\r\n\r\n        return (\r\n            <div>\r\n                <h1>Login</h1>\r\n                <LoginReduxForm onSubmit={this.onSubmitHandler.bind(this)}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field type=\"text\" placeholder=\"Login\" name=\"email\" component={Input} validate={[required, maxLength30]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"password\" placeholder=\"Password\" name=\"password\" component=\"input\"/>\r\n            </div>\r\n            <div>\r\n                <label><Field type=\"checkbox\" component=\"input\" name=\"rememberMe\"/> remember me </label>\r\n            </div>\r\n            <div>\r\n                {\r\n                    props.error ? <span>{props.error}<br/></span> : null\r\n                }\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login', //имя формы\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import { getAuthUserData } from './auth-reducer';\r\n\r\nlet initialState = {\r\n    initialized: false, \r\n}\r\n\r\n let appReducer = (state = initialState, action) => {\r\n    if (action.type === 'INITIAL_SUCCES') {\r\n        return {\r\n        ...state,\r\n        initialized: true,\r\n        }\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport const initialSuccesAC = () => ({type: 'INITIAL_SUCCES'});\r\n\r\nexport const initialAppTC = () => {\r\n    return (dispatch) => {\r\n      dispatch(getAuthUserData()).then(\r\n            (responce) => {\r\n                dispatch(initialSuccesAC())\r\n            }\r\n        )\r\n       \r\n    }\r\n}\r\n\r\nexport default appReducer;","import './App.css';\r\nimport Navbar from './Components/Navbar/Navbar.jsx';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport UsersContainer from './Components/Users/UsersContainer';\r\nimport HeaderContainer from './Components/Header/HeaderContainer';\r\nimport LoginPage from \"./Components/Login/Login.jsx\";\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { initialAppTC } from './Redux/appReducer.js'\r\nimport Preloader from './Components/common/preloader/Preloader';\r\n//import DialogsContainer from  './Components/Dialogs/DIalogsContainer.jsx';\r\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DIalogsContainer.jsx'));\r\n//import ProfileContainer from './Components/Profile/ProfileContainer.jsx';\r\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer.jsx'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initialAppTC();\r\n  }\r\n  \r\n  render() {\r\n\r\n    if (!this.props.initialized) return <Preloader />\r\n\r\n    return (\r\n      <BrowserRouter>\r\n        <div className='wrapper'>\r\n\r\n          <div className='app-wrapper-header'>\r\n            <HeaderContainer />\r\n          </div>\r\n\r\n          <main>\r\n            <div className='app-wrapper-sidebar'>\r\n              <Navbar />\r\n            </div>\r\n\r\n            <div className='app-wrapper-content'>\r\n\r\n              <Route path='/dialogs' render={() => <React.Suspense fallback={<div>Loading...</div>}><DialogsContainer /></React.Suspense>} />\r\n\r\n              <Route path='/profile/:userId?' render={() => <React.Suspense fallback={<div>Loading...</div>}><ProfileContainer /></React.Suspense>} />\r\n\r\n              <Route path='/users' render={() => <UsersContainer />} />\r\n\r\n              <Route path='/login' render={() => <LoginPage />} />\r\n\r\n            </div>\r\n          </main>\r\n\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nexport default connect(mapStateToProps, {initialAppTC})(App);\r\n","import {combineReducers, createStore, applyMiddleware, compose} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport profileReducer from './profileReducer.js';\r\nimport dialogsReducer from './dialogsReducer.js';\r\nimport usersReducer from './usersReducer.js';\r\nimport authReducer from './auth-reducer.js';\r\nimport appReducer from './appReducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducers = combineReducers({ \r\n    profilePage: profileReducer, \r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport appStore from './Redux/redux-store.js';\r\nimport {Provider} from 'react-redux';\r\n\r\n//в провайдере пропс, в котором передаем стор, должен называться именно store!\r\nReactDOM.render(\r\n  <Provider store={appStore}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\nimport reportWebVitals from './reportWebVitals';\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n*/\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__3jYWG\"};","export default __webpack_public_path__ + \"static/media/35.afd216a7.svg\";","import React from \"react\";\r\nimport preloader from './../../../assets/images/35.svg';\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n    return (value) => {\r\n        if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n        return undefined;\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__2kmap\",\"loginBlock\":\"Header_loginBlock__2Z0YQ\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    \r\n    class RedirectComponent extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n        }\r\n\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\nexport {withAuthRedirect};","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\n\r\nconst Textarea = (props) => {\r\n    let {input, meta, ...rest} = props;\r\n\r\n    const isError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div>\r\n            <textarea className={isError ? s.error : null} {...input} {...rest} />\r\n            <br/>\r\n            {isError && <span className={s.error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} \r\n\r\nconst Input = (props) => {\r\n    let {input, meta, ...rest} = props;\r\n\r\n    const isError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div>\r\n            <input className={isError ? s.error : null} {...input} {...rest} />\r\n            <br/>\r\n            {isError && <span className={s.error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} \r\n\r\nexport {Textarea, Input};\r\n\r\n","import { profileApiDal } from './../API/api.js';\r\n\r\nlet initialState = {\r\n    postData: [\r\n        { id: 1, message: 'Hi, how are u?', likesCount: 2 },\r\n        { id: 2, message: 'Hi, it\\'s my first post', likesCount: 3 },\r\n    ],\r\n    profile: null,\r\n    status: '', \r\n};\r\n\r\nfunction profileReducer(state = initialState, action) {\r\n\r\n    if (action.type == 'ADD-POST') { \r\n        return {\r\n            ...state,\r\n            postData: [...state.postData, {id: 3, message: action.postText, likesCount: 0}],\r\n        }\r\n    };\r\n\r\n    if (action.type == 'SET_USER_PROFILE') {\r\n        return {\r\n            ...state,\r\n            profile: action.profile\r\n        }\r\n    };\r\n\r\n    if (action.type == 'SET-USER-STATUS') {\r\n        return {\r\n            ...state,\r\n            status: action.status\r\n        }\r\n    };\r\n\r\n    return state;\r\n}\r\n\r\nexport default profileReducer;\r\n\r\nexport const addPostActionCreator = (postText) => ({type: 'ADD-POST', postText});\r\n\r\nexport const onSetUserProfile = (profile) => ({type:'SET_USER_PROFILE', profile});\r\n\r\nconst setUserStatus = (status) => ({type: 'SET-USER-STATUS', status});\r\n   \r\nexport const getUserProfile = (userId) => {\r\n    return (dispatch) => {\r\n        profileApiDal.getProfile(userId)\r\n            .then(responce => {\r\n                dispatch(onSetUserProfile(responce.data));\r\n            })\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (userId) => {\r\n    return (dispatch) => {\r\n        profileApiDal.getStatus(userId).then(\r\n            (responce) => {\r\n                dispatch(setUserStatus(responce.data));\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return (dispatch) => {\r\n        profileApiDal.updateStatus(status).then(\r\n            (responce) => {\r\n                if (responce.data.resultCode === 0) {\r\n                    dispatch(setUserStatus(status));\r\n                }\r\n            } \r\n        ) \r\n    }\r\n}\r\n\r\n//dispatch вызовет каждый редьюсер от (стейта, экшен)"],"sourceRoot":""}